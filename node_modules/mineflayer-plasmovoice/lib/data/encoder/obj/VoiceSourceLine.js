"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VoiceSourceLine = void 0;
const McGameProfileSerializer_1 = require("./McGameProfileSerializer");
var VoiceSourceLine;
(function (VoiceSourceLine) {
    function deserialize(packet) {
        const name = packet.readUTF();
        const translation = packet.readUTF();
        const icon = packet.readUTF();
        const defaultVolume = packet.readDouble();
        const weight = packet.readInt();
        const hasPlayers = packet.readBoolean();
        const players = new Set();
        if (hasPlayers) {
            const playersSize = packet.readInt();
            for (let j = 0; j < playersSize; j++) {
                players.add(McGameProfileSerializer_1.McGameProfileSerializer.deserialize(packet));
            }
        }
        return {
            name,
            translation,
            icon,
            defaultVolume,
            weight,
            hasPlayers,
            players: hasPlayers ? players : undefined,
        };
    }
    VoiceSourceLine.deserialize = deserialize;
})(VoiceSourceLine || (exports.VoiceSourceLine = VoiceSourceLine = {}));
